
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>  Innovators Quest  - Full Stack Development </title>
<style>
  /* Color palette: pink (#E91E63), black, grey */
  :root {
    --pink: #E91E63;
    --black: #000000;
    --dark-grey: #333333;
    --grey: #888888;
    --light-grey: #f3f3f3;
    --white: #fff;
  }
  * {
    box-sizing: border-box;
  }
  body {
    margin: 0;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background-color: var(--light-grey);
    color: var(--black);
  }
  header {
    background-color: var(--black);
    color: var(--pink);
    padding: 1rem 2rem;
    text-align: center;
  }
  header h1 {
    margin: 0;
    font-weight: 700;
  }
  nav {
    margin-top: 0.5rem;
  }
  nav button {
    background-color: var(--pink);
    border: none;
    color: var(--white);
    padding: 0.6rem 1.2rem;
    margin: 0.2rem;
    font-weight: 600;
    cursor: pointer;
    border-radius: 4px;
    transition: background-color 0.3s;
  }
  nav button:hover, nav button.active {
    background-color: #b81f53;
  }
  main {
    max-width: 900px;
    margin: 2rem auto;
    background: var(--white);
    padding: 1.5rem 2rem;
    border-radius: 8px;
    box-shadow: 0 0 15px rgba(0,0,0,0.1);
  }
  section {
    margin-bottom: 2rem;
  }
  h2 {
    color: var(--pink);
    margin-bottom: 1rem;
  }
  iframe {
    width: 100%;
    height: 400px;
    border: none;
    border-radius: 8px;
  }
  form {
    display: flex;
    flex-direction: column;
  }
  label {
    margin: 0.5rem 0 0.2rem 0;
    font-weight: 600;
  }
  input[type="text"], textarea {
    padding: 0.4rem 0.6rem;
    border-radius: 4px;
    border: 1px solid var(--grey);
    font-size: 1rem;
    resize: vertical;
  }
  button.submit-btn {
    margin-top: 1rem;
    align-self: flex-start;
    padding: 0.6rem 1.4rem;
    background-color: var(--pink);
    color: var(--white);
    border: none;
    border-radius: 4px;
    font-weight: 700;
    cursor: pointer;
    transition: background-color 0.3s;
  }
  button.submit-btn:hover {
    background-color: #b81f53;
  }
  .quiz-question {
    margin-bottom: 1rem;
  }
  .quiz-question p {
    margin-bottom: 0.4rem;
    font-weight: 600;
  }
  .answers label {
    display: block;
    margin-bottom: 0.3rem;
    cursor: pointer;
  }
  .attendance-section button {
    background-color: var(--pink);
    color: var(--white);
    border: none;
    padding: 0.6rem 1.2rem;
    border-radius: 4px;
    cursor: pointer;
    font-weight: 700;
    margin-top: 0.5rem;
  }
  .attendance-section button:disabled {
    background-color: grey;
    cursor: not-allowed;
  }
  .message {
    margin-top: 0.6rem;
    font-weight: 700;
    color: var(--pink);
  }
  .admin-section {
    background-color: var(--dark-grey);
    color: var(--white);
    padding: 1rem;
    border-radius: 8px;
  }
  .admin-section h3 {
    margin-top: 0;
  }
  .admin-toggle {
    margin-bottom: 1rem;
  }
  .admin-section table {
    width: 100%;
    border-collapse: collapse;
    color: var(--white);
  }
  .admin-section th, .admin-section td {
    border: 1px solid var(--pink);
    padding: 0.4rem 0.8rem;
    text-align: left;
    vertical-align: middle;
  }
  .editable {
    background-color: var(--white);
    color: var(--black);
    border: 1px solid var(--pink);
    border-radius: 4px;
    padding: 0.2rem 0.4rem;
    min-width: 120px;
  }
  .delete-btn {
    background-color: #e53935;
    border: none;
    color: white;
    font-weight: 700;
    cursor: pointer;
    border-radius: 4px;
    padding: 0.2rem 0.6rem;
    margin-left: 0.4rem;
    transition: background-color 0.3s;
  }
  .delete-btn:hover {
    background-color: #ab000d;
  }
  #resources-section ul {
    list-style-type: disc;
    padding-left: 1.5rem;
  }
  #resources-section ul li {
    margin-bottom: 0.6rem;
  }
  #resources-section a {
    color: var(--pink);
    font-weight: 600;
    text-decoration: none;
  }
  #resources-section a:hover {
    text-decoration: underline;
  }
  @media (max-width: 600px) {
    main {
      margin: 1rem;
      padding: 1rem;
    }
    iframe {
      height: 250px;
    }
  }
</style>
</head>
<body>
<header>
  <h1>Innovators Quest Summer Bootcamp</h1>
  <div>Full Stack Development Course</div>
  <nav>
    <button data-topic="html" class="active">HTML Basics</button>
    <button data-topic="css">CSS Basics</button>
    <button data-topic="js">JavaScript Basics</button>
    <button data-topic="github">GitHub</button>
    <button data-topic="react">React</button>
    <button data-topic="mongodb">MongoDB</button>
    
    <button data-topic="resources">Resources</button>
    <button id="adminLoginBtn">Admin Panel</button>
    
  </nav>
</header>
<main>
  <section id="video-section">
    <h2>Topic: <span id="topic-title">HTML Basics</span></h2>
    <iframe id="topic-video" src="https://www.youtube.com/embed/pQN-pnXPaVg" allowfullscreen></iframe>
  </section>

  <section id="quiz-section">
    <h2>Mini Quiz</h2>
    <form id="quiz-form">
      <!-- Quiz questions injected by JS -->
    </form>
    <button class="submit-btn" id="submit-quiz-btn">Submit Quiz</button>
    <div id="quiz-result" class="message"></div>
  </section>

  <section id="attendance-section" class="attendance-section">
    <h2>Mark Attendance</h2>
    <button id="mark-attendance-btn">Mark Attendance for This Topic</button>
    <div id="attendance-message" class="message"></div>
  </section>

  <section id="project-section">
    <h2>Project Submission</h2>
    <form id="project-form">
      <label for="learner-name">Your Name *</label>
      <input type="text" id="learner-name" placeholder="Enter your full name" required>

      <label for="project-link">Project Link *</label>
      <input type="text" id="project-link" placeholder="Enter your project GitHub / live URL" required>

      <label for="project-description">Project Description</label>
      <textarea id="project-description" rows="4" placeholder="Brief description (optional)"></textarea>

      <button class="submit-btn" type="submit">Submit Project</button>
    </form>
    <div id="project-message" class="message"></div>
  </section>

  <section id="resources-section" style="display:none;">
    <h2>Additional Resources</h2>
    <ul>
      <li><a href="https://drive.google.com/drive/folders/1W5SsrQuXowilGcNBVpZPUBGaq1WQLzeW" target="_blank" rel="noopener">Google Drive Folder - Bootcamp Materials</a></li>
      <li><a href="https://github.com/anthoniraj/web_programming_win_2024_25.git" target="_blank" rel="noopener">GitHub Repository - Web Programming Course</a></li>
    </ul>
  </section>

  <section id="admin-section" class="admin-section" style="display:none;">
    <h3>Admin Panel</h3>
    <button id="logout-admin-btn" class="submit-btn" style="background-color:#9c27b0;">Logout Admin</button>
    <h4>Attendance Records</h4>
    <table id="attendance-table">
      <thead>
        <tr><th>Topic</th><th>Learner Name</th><th>Date</th><th>Actions</th></tr>
      </thead>
      <tbody></tbody>
    </table>
    <h4>Project Submissions</h4>
    <table id="projects-table">
      <thead>
        <tr><th>Topic</th><th>Learner Name</th><th>Project Link</th><th>Description</th><th>Actions</th></tr>
      </thead>
      <tbody></tbody>
    </table>
  </section>
</main>
<script>
  (function(){
    const topics = {
      github: {
        title: "GitHub Basics",
        videoSrc: "https://www.youtube.com/embed/w3jLJU7DT5E",
        quiz: [
          { question:"What is GitHub used for?", options:["Hosting videos","Source code management","Running games","Designing websites"], answer:1 },
          { question:"What does 'git commit' do?", options:["Deletes code","Saves changes","Compiles code","Pushes to GitHub"], answer:1 },
          { question:"What is a repository?", options:["A folder","A backup","A commit","A website"], answer:0 },
          { question:"What is the command to upload your local repo to GitHub?", options:["git clone","git push","git fetch","git status"], answer:1 },
          { question:"Which command shows the state of the working directory and staging area?", options:["git status","git check","git update","git init"], answer:0 }
        ]
      },
      react: {
        title: "React Basics",
        videoSrc: "https://www.youtube.com/embed/bMknfKXIFA8",
        quiz: [
          { question:"Who maintains React?", options:["Google","Facebook (Meta)","Microsoft","Twitter"], answer:1 },
          { question:"What is JSX?", options:["JavaScript extension","CSS module","HTML file","React theme"], answer:0 },
          { question:"Which hook is used for state?", options:["useRef","useEffect","useState","useClass"], answer:2 },
          { question:"What does 'props' stand for?", options:["Properties","Proposals","Proper files","None"], answer:0 },
          { question:"Which command starts a React app?", options:["npm start","npm react","react run","node react"], answer:0 }
        ]
      },
      mongodb: {
        title: "MongoDB Basics",
        videoSrc: "https://www.youtube.com/embed/-56x56UppqQ",
        quiz: [
          { question:"What type of database is MongoDB?", options:["SQL","Relational","Document-based","Spreadsheet"], answer:2 },
          { question:"What is the default port for MongoDB?", options:["3306","27017","8080","5432"], answer:1 },
          { question:"Which language is used to query MongoDB?", options:["SQL","MongoSQL","MQL","JavaScript-like syntax"], answer:3 },
          { question:"Which command inserts a document?", options:["insert()","add()","put()","create()"], answer:0 },
          { question:"Which method finds all documents?", options:["findAll()","search()","getAll()","find()"], answer:3 }
        ]
      },

      html: {
        title: "HTML Basics",
        videoSrc: "https://www.youtube.com/embed/pQN-pnXPaVg",
        quiz: [
          {
            question:"What does HTML stand for?",
            options:["Hyper Text Markup Language","Hot Mail","How to Make Lasagna","High Text Machine Language"],
            answer:0
          },
          {
            question:"Choose the correct HTML element for the largest heading:",
            options:["<heading>","<h6>","<head>","<h1>"],
            answer:3
          },
          {
            question:"What is the correct HTML element for inserting a line break?",
            options:["<break>","<br>","<lb>","<line>"],
            answer:1
          },
          {
            question:"Which character is used to indicate an end tag?",
            options:["*","/","<",">"],
            answer:1
          },
          {
            question:"How can you make a numbered list?",
            options:["<list>","<ol>","<ul>","<nl>"],
            answer:1
          },
          {
            question:"What is the correct HTML for creating a hyperlink?",
            options:["<a href='url'>link</a>","<a>url</a>","<link url=''>","<hyperlink>url</hyperlink>"],
            answer:0
          },
          {
            question:"Which of these elements are all <table> elements?",
            options:["<table><head><tfoot>","<table><tr><td>","<thead><body><tr>","<table><tr><body>"],
            answer:1
          },
          {
            question:"How can you open a link in a new tab/browser window?",
            options:["<a href='url' target='_blank'>","<a href='url' new>","<a href='url' target='new'>","<a href='url' blank>"],
            answer:0
          },
          {
            question:"Which element is used to provide a footer for a document or section?",
            options:["<bottom>","<footer>","<sectionfooter>","<foot>"],
            answer:1
          },
          {
            question:"What does the <caption> element do in a table?",
            options:["Defines a header row","Adds a title to the table","Defines the first cell","No function"],
            answer:1
          }
        ]
      },
      css: {
        title: "CSS Basics",
        videoSrc: "https://www.youtube.com/embed/yfoY53QXEnI",
        quiz: [
          {
            question:"What does CSS stand for?",
            options:["Creative Style Sheets","Cascading Style Sheets","Computer Style Sheets","Colorful Style Sheets"],
            answer:1
          },
          {
            question:"Where in an HTML document is the correct place to refer to an external style sheet?",
            options:["In the <head> section","At the end of the document","In the <body> section","Before the <html> tag"],
            answer:0
          },
          {
            question:"Which HTML tag is used to define an internal style sheet?",
            options:["<style>","<script>","<css>","<stylesheet>"],
            answer:0
          },
          {
            question:"Which property is used to change the background color?",
            options:["color","bgcolor","background-color","backgroundColor"],
            answer:2
          },
          {
            question:"How do you make each word in a text start with a capital letter?",
            options:["text-transform:capitalize;","text-style:capital;","transform:capitalize;","You can't do that with CSS"],
            answer:0
          },
          {
            question:"Which CSS property controls the text size?",
            options:["font-size","text-size","font-style","text-style"],
            answer:0
          },
          {
            question:"How do you make a list that lists its items with squares?",
            options:["list-style-type: square;","list: square;","list-type: square;","list-style: squares;"],
            answer:0
          },
          {
            question:"How do you select an element with id 'demo'?",
            options:["#demo","*demo",".demo","demo"],
            answer:0
          },
          {
            question:"How do you select elements with class name 'test'?",
            options:[".test","#test","*test","test"],
            answer:0
          },
          {
            question:"What is the default value of the position property?",
            options:["static","relative","absolute","fixed"],
            answer:0
          }
        ]
      },
      js: {
        title: "JavaScript Basics",
        videoSrc: "https://www.youtube.com/embed/hdI2bqOjy3c",
        quiz: [
          {
            question:"Inside which HTML element do we put the JavaScript?",
            options:["<js>","<script>","<javascript>","<code>"],
            answer:1
          },
          {
            question:"How do you write 'Hello World' in an alert box?",
            options:["alertBox('Hello World');","msg('Hello World');","msgBox('Hello World');","alert('Hello World');"],
            answer:3
          },
          {
            question:"How do you create a function in JavaScript?",
            options:["function myFunction()","function = myFunction()","function:myFunction()","createFunction myFunction()"],
            answer:0
          },
          {
            question:"How can you add a comment in JavaScript?",
            options:["// This is a comment","' This is a comment","<!-- This is a comment -->","# This is a comment"],
            answer:0
          },
          {
            question:"How do you declare a JavaScript variable?",
            options:["var carName;","variable carName;","v carName;","declare carName;"],
            answer:0
          },
          {
            question:"Which operator is used to assign a value to a variable?",
            options:["-","*","=","x"],
            answer:2
          },
          {
            question:"How do you call a function named 'myFunction'?",
            options:["call myFunction()","call function myFunction()","myFunction()","Call.myFunction()"],
            answer:2
          },
          {
            question:"How to write an IF statement in JavaScript?",
            options:["if i == 5 then","if i = 5 then","if (i == 5)","if i = 5"],
            answer:2
          },
          {
            question:"How does a WHILE loop start?",
            options:["while (i <= 10)","while i = 1 to 10","while (i <= 10; i++)","while i <= 10"],
            answer:0
          },
          {
            question:"How do you add a value '5' to the end of an array 'arr'?",
            options:["arr.add(5)","arr.push(5)","arr[5]","arr.addValue(5)"],
            answer:1
          }
        ]
      }
    };

    let currentTopicKey = "html";

    const topicTitleEl = document.getElementById("topic-title");
    const videoEl = document.getElementById("topic-video");
    const quizForm = document.getElementById("quiz-form");
    const submitQuizBtn = document.getElementById("submit-quiz-btn");
    const quizResultEl = document.getElementById("quiz-result");
    const markAttendanceBtn = document.getElementById("mark-attendance-btn");
    const attendanceMessageEl = document.getElementById("attendance-message");
    const projectForm = document.getElementById("project-form");
    const projectMessageEl = document.getElementById("project-message");
    const navButtons = document.querySelectorAll("nav button[data-topic]");
    const adminSection = document.getElementById("admin-section");
    const adminLoginBtn = document.getElementById("adminLoginBtn");
    const logoutAdminBtn = document.getElementById("logout-admin-btn");
    const attendanceTableBody = document.querySelector("#attendance-table tbody");
    const projectsTableBody = document.querySelector("#projects-table tbody");

    // Additional containers
    const videoSection = document.getElementById("video-section");
    const quizSection = document.getElementById("quiz-section");
    const attendanceSection = document.getElementById("attendance-section");
    const projectSection = document.getElementById("project-section");
    const resourcesSection = document.getElementById("resources-section");

    // Util: get storage keys
    function getAttendanceKey() { return "bootcampAttendance"; }
    function getProjectsKey() { return "bootcampProjects"; }

    // Update the video and quiz for a selected topic
    function loadTopic(topicKey) {
      currentTopicKey = topicKey;
      quizResultEl.textContent = "";
      attendanceMessageEl.textContent = "";
      projectMessageEl.textContent = "";

      if(topicKey === "resources") {
        // Show resources section, hide others
        resourcesSection.style.display = "block";
        videoSection.style.display = "none";
        quizSection.style.display = "none";
        attendanceSection.style.display = "none";
        projectSection.style.display = "none";
        topicTitleEl.textContent = "Additional Resources";
        submitQuizBtn.style.display = "none";
        markAttendanceBtn.style.display = "none";
        return;
      }

      // Show all relevant sections for normal topics
      resourcesSection.style.display = "none";
      videoSection.style.display = "block";
      quizSection.style.display = "block";
      attendanceSection.style.display = "block";
      projectSection.style.display = "block";
      submitQuizBtn.style.display = "inline-block";
      markAttendanceBtn.style.display = "inline-block";

      let topic = topics[topicKey];
      topicTitleEl.textContent = topic.title;
      videoEl.src = topic.videoSrc;

      // Reset quiz form
      quizForm.innerHTML = "";
      topic.quiz.forEach((q, index) => {
        const div = document.createElement("div");
        div.className = "quiz-question";
        const p = document.createElement("p");
        p.textContent = (index + 1) + ". " + q.question;
        div.appendChild(p);

        const answersDiv = document.createElement("div");
        answersDiv.className = "answers";
        q.options.forEach((option, i) => {
          const id = `q${index}o${i}`;
          const label = document.createElement("label");
          const input = document.createElement("input");
          input.type = "radio";
          input.name = `question${index}`;
          input.id = id;
          input.value = i;
          label.htmlFor = id;
          label.textContent = option;
          label.prepend(input);
          answersDiv.appendChild(label);
        });

        div.appendChild(answersDiv);
        quizForm.appendChild(div);
      });

      // Enable quiz submit and attendance button
      submitQuizBtn.disabled = false;
      markAttendanceBtn.disabled = false;
    }

    // Quiz submission and checking
    submitQuizBtn.addEventListener("click", function(e){
      e.preventDefault();
      const topic = topics[currentTopicKey];
      let score = 0, total = topic.quiz.length;
      for(let i=0; i < total; i++){
        const q = topic.quiz[i];
        let selected = quizForm.querySelector(`input[name="question${i}"]:checked`);
        if(!selected){
          alert("Please answer all quiz questions before submitting.");
          return;
        }
        if(parseInt(selected.value) === q.answer) score++;
      }
      quizResultEl.textContent = `You scored ${score} out of ${total}. ${score < total ? "Please review the video if you scored less than 10." : "Great job!"}`;
      submitQuizBtn.disabled = true;
    });

    // Attendance marking
    markAttendanceBtn.addEventListener("click", function(){
      let learnerName = prompt("Please enter your full name to mark attendance:");
      if(!learnerName || learnerName.trim().length < 2){
        alert("Please enter a valid name.");
        return;
      }
      learnerName = learnerName.trim();
      // Save attendance in localStorage
      let attendanceRecords = JSON.parse(localStorage.getItem(getAttendanceKey())) || [];
      // Prevent duplicate attendance for same topic and learner
      let exists = attendanceRecords.some(r => r.topic === currentTopicKey && r.name.toLowerCase() === learnerName.toLowerCase());
      if(exists){
        attendanceMessageEl.textContent = "Attendance already marked for this topic.";
        markAttendanceBtn.disabled = true;
        return;
      }
      attendanceRecords.push({ topic: currentTopicKey, name: learnerName, date: new Date().toLocaleString() });
      localStorage.setItem(getAttendanceKey(), JSON.stringify(attendanceRecords));
      attendanceMessageEl.textContent = "Attendance marked successfully.";
      markAttendanceBtn.disabled = true;
    });

    // Project submission
    projectForm.addEventListener("submit", function(e){
      e.preventDefault();
      const nameInput = document.getElementById("learner-name");
      const linkInput = document.getElementById("project-link");
      const descInput = document.getElementById("project-description");
      let name = nameInput.value.trim();
      let link = linkInput.value.trim();
      let description = descInput.value.trim();
      if(!name || !link){
        alert("Please fill in the required fields.");
        return;
      }
      // Save project to localStorage
      let projects = JSON.parse(localStorage.getItem(getProjectsKey())) || [];
      projects.push({ topic: currentTopicKey, name, link, description });
      localStorage.setItem(getProjectsKey(), JSON.stringify(projects));
      projectMessageEl.textContent = "Project submitted successfully!";
      projectForm.reset();
    });

    // Navigation buttons event
    navButtons.forEach(btn => {
      btn.addEventListener("click", function(){
        navButtons.forEach(b => b.classList.remove("active"));
        this.classList.add("active");
        loadTopic(this.dataset.topic);
      });
    });

    // Admin login
    const adminPassword = "admin123"; // simple hardcoded password for demo
    let isAdminLoggedIn = false;

    adminLoginBtn.addEventListener("click", function(){
      if(isAdminLoggedIn){
        alert("You are already logged in as admin.");
        return;
      }
      let pwd = prompt("Enter admin password:");
      if(pwd === adminPassword){
        isAdminLoggedIn = true;
        adminSection.style.display = "block";
        adminLoginBtn.style.display = "none";
        populateAdminTables();
        // Hide other main sections while admin is visible
        main.style.display = "none";
        // remove topic active from nav
        navButtons.forEach(b => b.classList.remove("active"));
      } else if(pwd !== null){
        alert("Incorrect password.");
      }
    });

    logoutAdminBtn.addEventListener("click", function(){
      isAdminLoggedIn = false;
      adminSection.style.display = "none";
      adminLoginBtn.style.display = "inline-block";
      // Show main sections again
      main.style.display = "block";
      // Restore current topic active button
      navButtons.forEach(b => b.classList.remove("active"));
      let btn = Array.from(navButtons).find(b => b.dataset.topic === currentTopicKey);
      if(btn) btn.classList.add("active");
      loadTopic(currentTopicKey);
    });

    // Populate admin tables
    function populateAdminTables(){
      attendanceTableBody.innerHTML = "";
      projectsTableBody.innerHTML = "";
      let attendanceRecords = JSON.parse(localStorage.getItem(getAttendanceKey())) || [];
      attendanceRecords.forEach((rec, index) => {
        let tr = document.createElement("tr");
        let tdTopic = document.createElement("td");
        tdTopic.textContent = topics[rec.topic] ? topics[rec.topic].title : rec.topic;

        let tdName = document.createElement("td");
        let inputName = document.createElement("input");
        inputName.type = "text";
        inputName.value = rec.name;
        inputName.className = "editable";
        inputName.addEventListener("change", function(){
          rec.name = this.value;
          saveAttendanceChanges();
        });
        tdName.appendChild(inputName);

        let tdDate = document.createElement("td");
        tdDate.textContent = rec.date;

        let tdActions = document.createElement("td");
        const delBtn = document.createElement("button");
        delBtn.textContent = "Delete";
        delBtn.className = "delete-btn";
        delBtn.title = "Delete this attendance record";
        delBtn.addEventListener("click", function(){
          if(confirm("Are you sure you want to delete this attendance record?")){
            deleteAttendanceRecord(index);
          }
        });
        tdActions.appendChild(delBtn);

        tr.appendChild(tdTopic); tr.appendChild(tdName); tr.appendChild(tdDate); tr.appendChild(tdActions);
        attendanceTableBody.appendChild(tr);
      });

      let projects = JSON.parse(localStorage.getItem(getProjectsKey())) || [];
      projects.forEach((prj, index) => {
        let tr = document.createElement("tr");
        let tdTopic = document.createElement("td");
        tdTopic.textContent = topics[prj.topic] ? topics[prj.topic].title : prj.topic;

        let tdName = document.createElement("td");
        let inputName = document.createElement("input");
        inputName.type = "text";
        inputName.value = prj.name;
        inputName.className = "editable";
        inputName.addEventListener("change", function(){
          prj.name = this.value;
          saveProjectChanges();
        });
        tdName.appendChild(inputName);

        let tdLink = document.createElement("td");
        let inputLink = document.createElement("input");
        inputLink.type = "text";
        inputLink.value = prj.link;
        inputLink.className = "editable";
        inputLink.addEventListener("change", function(){
          prj.link = this.value;
          saveProjectChanges();
        });
        tdLink.appendChild(inputLink);

        let tdDesc = document.createElement("td");
        let inputDesc = document.createElement("input");
        inputDesc.type = "text";
        inputDesc.value = prj.description;
        inputDesc.className = "editable";
        inputDesc.addEventListener("change", function(){
          prj.description = this.value;
          saveProjectChanges();
        });
        tdDesc.appendChild(inputDesc);

        let tdActions = document.createElement("td");
        const delBtn = document.createElement("button");
        delBtn.textContent = "Delete";
        delBtn.className = "delete-btn";
        delBtn.title = "Delete this project submission";
        delBtn.addEventListener("click", function(){
          if(confirm("Are you sure you want to delete this project submission?")){
            deleteProjectRecord(index);
          }
        });
        tdActions.appendChild(delBtn);

        tr.appendChild(tdTopic); tr.appendChild(tdName); tr.appendChild(tdLink); tr.appendChild(tdDesc); tr.appendChild(tdActions);
        projectsTableBody.appendChild(tr);
      });
    }

    function deleteAttendanceRecord(index){
      let attendanceRecords = JSON.parse(localStorage.getItem(getAttendanceKey())) || [];
      attendanceRecords.splice(index, 1);
      localStorage.setItem(getAttendanceKey(), JSON.stringify(attendanceRecords));
      populateAdminTables();
    }

    function deleteProjectRecord(index){
      let projects = JSON.parse(localStorage.getItem(getProjectsKey())) || [];
      projects.splice(index, 1);
      localStorage.setItem(getProjectsKey(), JSON.stringify(projects));
      populateAdminTables();
    }

    // Save admin changes to attendance names to localStorage
    function saveAttendanceChanges(){
      let newAttendance = [];
      let rows = attendanceTableBody.querySelectorAll("tr");
      rows.forEach(row => {
        const topic = row.cells[0].textContent;
        const nameInput = row.cells[1].querySelector("input");
        const date = row.cells[2].textContent;
        // Find topic key by title
        let topicKey = Object.keys(topics).find(k => topics[k].title === topic) || topic;
        newAttendance.push({ topic: topicKey, name: nameInput.value, date });
      });
      localStorage.setItem(getAttendanceKey(), JSON.stringify(newAttendance));
    }

    // Save admin changes to project submissions to localStorage
    function saveProjectChanges(){
      let newProjects = [];
      let rows = projectsTableBody.querySelectorAll("tr");
      rows.forEach(row => {
        const topic = row.cells[0].textContent;
        const nameInput = row.cells[1].querySelector("input");
        const linkInput = row.cells[2].querySelector("input");
        const descInput = row.cells[3].querySelector("input");
        // Find topic key by title
        let topicKey = Object.keys(topics).find(k => topics[k].title === topic) || topic;
        newProjects.push({ topic: topicKey, name: nameInput.value, link: linkInput.value, description: descInput.value });
      });
      localStorage.setItem(getProjectsKey(), JSON.stringify(newProjects));
    }

    // Initialize with default topic load
    loadTopic(currentTopicKey);
  })();
</script>
</body>
</html>

